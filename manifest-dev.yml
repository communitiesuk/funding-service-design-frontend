---
applications:
- name: funding-service-design-frontend-dev
  memory: 256M
  buildpacks:
  - https://github.com/cloudfoundry/python-buildpack.git
  command: gunicorn wsgi:app -c run/gunicorn/devtest.py
  # TODO: Remove gids.dev domain if fundingservice.co.uk domain DNS gets restored.
  env:
    AUTHENTICATOR_HOST: https://fsd:fsd@authenticator2.dev.gids.dev  # pragma: allowlist secret
    ACCOUNT_STORE_API_HOST: https://funding-service-design-account-store-dev.london.cloudapps.digital
    APPLICATION_STORE_API_HOST: https://funding-service-design-application-store-dev.london.cloudapps.digital
    NOTIFICATION_SERVICE_HOST: http://funding-service-design-notification-dev.apps.internal:8080
    FORMS_SERVICE_PUBLIC_HOST: https://fsd:fsd@forms.dev.gids.dev  # pragma: allowlist secret
    FUND_STORE_API_HOST: https://funding-service-design-fund-store-dev.london.cloudapps.digital
    RSA256_PUBLIC_KEY_BASE64: ((RSA256_PUBLIC_KEY_BASE64))
    FORMS_SERVICE_PRIVATE_HOST: ((FORMS_SERVICE_PRIVATE_HOST))
    FLASK_ENV: dev
    COOKIE_DOMAIN: .dev.gids.dev
    FLASK_DEBUG: 1
    SENTRY_DSN: ((SENTRY_DSN))
    GITHUB_SHA: ((GITHUB_SHA))
  routes:
    - route: frontend.dev.gids.dev
  health-check-http-endpoint: /healthcheck
  health-check-type: http
  health-check-invocation-timeout: 10
  services:
    - funding-service-magic-links-dev
    - logit-ssl-drain
