---
applications:
- name: funding-service-design-frontend-dev
  memory: 64M
  buildpacks:
  - https://github.com/cloudfoundry/python-buildpack.git
  command: flask run --host 0.0.0.0 --port 8080
  env:
    AUTHENTICATOR_HOST: https://funding-service-design-authenticator-dev.london.cloudapps.digital
    ACCOUNT_STORE_API_HOST: https://funding-service-design-account-store-dev.london.cloudapps.digital
    APPLICATION_STORE_API_HOST: https://funding-service-design-application-store-dev.london.cloudapps.digital
    NOTIFICATION_SERVICE_HOST: http://funding-service-design-notification-dev.apps.internal:8080
    FORMS_SERVICE_PUBLIC_HOST: https://funding-service-design-form-runner.london.cloudapps.digital
    FLASK_ENV: dev
    FLASK_DEBUG: 1


- name: funding-service-design-frontend-test
  memory: 64M
  buildpacks:
  - https://github.com/cloudfoundry/python-buildpack.git
  command: flask run --host 0.0.0.0 --port 8080
  env:
    AUTHENTICATOR_HOST: https://funding-service-design-authenticator-test.london.cloudapps.digital
    ACCOUNT_STORE_API_HOST: https://funding-service-design-account-store-test.london.cloudapps.digital
    APPLICATION_STORE_API_HOST: https://funding-service-design-application-store-test.london.cloudapps.digital
    NOTIFICATION_SERVICE_HOST: http://funding-service-design-notification-test.apps.internal:8080
    FORMS_SERVICE_PUBLIC_HOST: https://funding-service-design-form-runner.london.cloudapps.digital
    FLASK_ENV: test


- name: funding-service-design-form-runner
  docker:
    image: ghcr.io/communitiesuk/digital-form-builder/runner:latest
  memory: 528M
  sandbox: true
  env:
    PREVIEW_MODE: TRUE
    LOG_PRETTY_PRINT: FALSE
  services: # eg. Redis
    - logit-ssl-drain
